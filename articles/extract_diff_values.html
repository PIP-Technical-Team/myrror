<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Extract Different Values • myrror</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract Different Values">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">myrror</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/myrror.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/myrror_overview.html">Myrror Overview</a></li>
    <li><a class="dropdown-item" href="../articles/extract_diff_values.html">Extract Different Values</a></li>
    <li><a class="dropdown-item" href="../articles/extract_diff_rows.html">Extract Different Rows</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="extract_diff_values_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="extract_diff_values_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="extract_diff_values_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="extract_diff_values_files/datatables-binding-0.33/datatables.js"></script><link href="extract_diff_values_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="extract_diff_values_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="extract_diff_values_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="extract_diff_values_files/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="extract_diff_values_files/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="extract_diff_values_files/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="extract_diff_values_files/selectize-0.12.0/selectize.min.js"></script><link href="extract_diff_values_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="extract_diff_values_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Extract Different Values</h1>
            
      

      <div class="d-none name"><code>extract_diff_values.Rmd</code></div>
    </div>

    
    
<p>This article looks at a series of workflows for the function
<code><a href="../reference/extract_diff_values.html">extract_diff_values()</a></code> and its companion
<code><a href="../reference/extract_diff_table.html">extract_diff_table()</a></code>.</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>At its core, both functions do the following:</p>
<ol style="list-style-type: decimal">
<li>Set up the two data frames (<code>dfx</code> and <code>dfy</code>)
for comparison:
<ul>
<li>Pair rows based on the keys provided (given by the user using the
<code>by</code> , <code>by.x</code>, <code>by.y</code> arguments, or by
row number).</li>
<li>Pair columns based on the column names.</li>
</ul>
</li>
<li>Run the comparison between shared rows and shared columns only.</li>
<li>Then depending on the function:
<ul>
<li>
<code><a href="../reference/extract_diff_values.html">extract_diff_values()</a></code>: returns a list of
<code>data.table</code>s, one per variable, with the values of a given
variable in <code>dfx</code> and <code>dfy</code> side-by-side.</li>
<li>
<code><a href="../reference/extract_diff_table.html">extract_diff_table()</a></code>: returns a <code>data.table</code>
with all differences in values between <code>dfx</code> and
<code>dfy</code>.</li>
</ul>
</li>
</ol>
<p>In this article, we will first cover how
<code><a href="../reference/extract_diff_values.html">extract_diff_values()</a></code> work with a simple and then a more
complex type of data set. Then, we will look at how
<code><a href="../reference/extract_diff_table.html">extract_diff_table()</a></code> can add value to the comparison.</p>
<div class="section level3 callout-important">
<h3 id="no-keys-provided">⚠️ No keys provided<a class="anchor" aria-label="anchor" href="#no-keys-provided"></a>
</h3>
<p>Right now, <a href="https://giorgiacek.github.io/myrror/">myrror</a> does not align rows based on row
content. This means that if the user does not provide keys, the function
will compare the two datasets based on row number only. This can lead to
incorrect results (<code><a href="../reference/extract_diff_values.html">extract_diff_values()</a></code> will not return
the correct rows) if:</p>
<ul>
<li><p>the datasets have different row orders.</p></li>
<li><p>a detaset have duplicate rows.</p></li>
<li><p>a dataset has new/missing rows.</p></li>
</ul>
<p>Therefore, we suggest the user to <strong>always provide
keys</strong> when running this and the other functions.</p>
</div>
</div>
<div class="section level2">
<h2 id="example-1-one-variable-with-differences-">Example 1: one variable with differences.<a class="anchor" aria-label="anchor" href="#example-1-one-variable-with-differences-"></a>
</h2>
<p>If you run the functions with arguments <code>output = "full"</code>
the console will print a user-friendly summary of the comparison,
similar to the output of <code><a href="../reference/myrror.html">myrror()</a></code>, but displaying only the
output of <code><a href="../reference/extract_diff_values.html">extract_diff_values()</a></code>.</p>
<p><img src="images%2Fextract_diff_values_basic.gif"></p>
<p>When run in default mode, with <code>output = "simple"</code> ,
<code><a href="../reference/extract_diff_values.html">extract_diff_values()</a></code> returns a list of
<code>data.table</code>s:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_diff_values.html">extract_diff_values</a></span><span class="op">(</span><span class="va">iris</span>, <span class="va">iris_var1</span>, output <span class="op">=</span> <span class="st">"simple"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> There are duplicates in the dataset ().</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Proceeding with the operation despite non-unique rows.</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> There are duplicates in the dataset ().</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Proceeding with the operation despite non-unique rows.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span></span>
<span><span class="co">#&gt; $Sepal.Length</span></span>
<span><span class="co">#&gt;           diff indexes     rn Sepal.Length.x Sepal.Length.y</span></span>
<span><span class="co">#&gt;         &lt;char&gt;  &lt;char&gt; &lt;char&gt;          &lt;num&gt;          &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1: value_to_na     135    135            6.1             NA</span></span>
<span><span class="co">#&gt; 2: value_to_na      56     56            5.7             NA</span></span>
<span><span class="co">#&gt; 3: value_to_na      63     63            6.0             NA</span></span>
<span><span class="co">#&gt; 4: value_to_na      74     74            6.1             NA</span></span>
<span><span class="co">#&gt; 5: value_to_na      92     92            6.1             NA</span></span></code></pre></div>
<p>In this comparison, <code>iris</code> and <code>iris_var1</code> are
two data frames that differ in the values of the
<code>Sepal.Length</code> column. The output shows the values of the
variable <code>Sepal.Length</code> in iris (<code>dfx</code>) as
<code>Sepal.Length.x</code> and in iris_var1 (<code>dfy</code>) as
<code>Sepal.Length.y</code>. The column <code>diff</code> identifies the
type of differences between the two values. In this case, in
<code>iris_var1</code>, the 5 non-matching values are <code>NA</code>.
Therefore, the column <code>diff</code> shows
<code>value_to_na</code>.</p>
<p>This output can be manipulated by the user to explore the differences
in more detail.</p>
</div>
<div class="section level2">
<h2 id="example-2-multiple-variables-with-differences-">Example 2: multiple variables with differences.<a class="anchor" aria-label="anchor" href="#example-2-multiple-variables-with-differences-"></a>
</h2>
<p>Here is a case where the two data frames differ in multiple
variables:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_diff_values.html">extract_diff_values</a></span><span class="op">(</span><span class="va">iris</span>, <span class="va">iris_var2</span>, output <span class="op">=</span> <span class="st">"simple"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> There are duplicates in the dataset ().</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Proceeding with the operation despite non-unique rows.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">output</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 5</span></span>
<span><span class="co">#&gt;  $ Sepal.Length:Classes 'data.table' and 'data.frame':   150 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   ..- attr(*, ".internal.selfref")=&lt;externalptr&gt; </span></span>
<span><span class="co">#&gt;  $ Sepal.Width :Classes 'data.table' and 'data.frame':   138 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   ..- attr(*, ".internal.selfref")=&lt;externalptr&gt; </span></span>
<span><span class="co">#&gt;  $ Petal.Length:Classes 'data.table' and 'data.frame':   148 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   ..- attr(*, ".internal.selfref")=&lt;externalptr&gt; </span></span>
<span><span class="co">#&gt;  $ Petal.Width :Classes 'data.table' and 'data.frame':   136 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   ..- attr(*, ".internal.selfref")=&lt;externalptr&gt; </span></span>
<span><span class="co">#&gt;  $ Species     :Classes 'data.table' and 'data.frame':   94 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   ..- attr(*, ".internal.selfref")=&lt;externalptr&gt;</span></span></code></pre></div>
<p>This time, the object returned is a list of <code>data.table</code>s,
one for each variable that differs between the two data frames. If we
look into one single variable, we can see that there are also different
types of differences, in this case <code>value_to_na</code> and
<code>change_in_value</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">Sepal.Width</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">diff</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 2</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   diff [2]</span></span></span>
<span><span class="co">#&gt;   diff                n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> change_in_value   133</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> value_to_na         5</span></span></code></pre></div>
<p>Let’s assume that I want to focus on missing values in the variable
<code>Sepal.Width</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">Sepal.Width</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">diff</span> <span class="op">==</span> <span class="st">"value_to_na"</span><span class="op">)</span></span>
<span><span class="co">#&gt;           diff indexes     rn Sepal.Width.x Sepal.Width.y</span></span>
<span><span class="co">#&gt;         &lt;char&gt;  &lt;char&gt; &lt;char&gt;         &lt;num&gt;         &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1: value_to_na     145    145           3.3           NaN</span></span>
<span><span class="co">#&gt; 2: value_to_na       2      2           3.0           NaN</span></span>
<span><span class="co">#&gt; 3: value_to_na      24     24           3.3           NaN</span></span>
<span><span class="co">#&gt; 4: value_to_na      55     55           2.8           NaN</span></span>
<span><span class="co">#&gt; 5: value_to_na      85     85           3.0           NaN</span></span></code></pre></div>
<p>The user can use the indexes to extract the observations in
<code>dfy</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">indexes</span> <span class="op">&lt;-</span> <span class="va">output</span><span class="op">$</span><span class="va">Sepal.Width</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">diff</span> <span class="op">==</span> <span class="st">"value_to_na"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">indexes</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>indexes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">indexes</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">iris_var2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">indexes</span><span class="op">$</span><span class="va">indexes</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="co">#&gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species</span></span>
<span><span class="co">#&gt;           &lt;num&gt;       &lt;num&gt;        &lt;num&gt;       &lt;num&gt;     &lt;fctr&gt;</span></span>
<span><span class="co">#&gt; 1:     6.511028         NaN          6.0         2.5  virginica</span></span>
<span><span class="co">#&gt; 2:     6.540961         NaN          3.6         1.3 versicolor</span></span>
<span><span class="co">#&gt; 3:     5.780072         NaN          1.4         0.2     setosa</span></span>
<span><span class="co">#&gt; 4:     5.290587         NaN          1.4         0.2     setosa</span></span>
<span><span class="co">#&gt; 5:     5.952240         NaN          1.5         0.4     setosa</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-3-a-larger-dataset">Example 3: a larger dataset<a class="anchor" aria-label="anchor" href="#example-3-a-larger-dataset"></a>
</h2>
<p>In this example we will look at a more complex case, using the
publicly available <code>gapminder</code> dataset. We will compare the
<code>gapminder</code> dataset with a modified version of it,
<code>gapminder_var1</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gapminder_var1</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>lifeExp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span>, <span class="cn">NA</span>, <span class="va">lifeExp</span><span class="op">)</span>, <span class="co"># NAs in lifeExp for one year</span></span>
<span>         pop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">country</span> <span class="op">==</span> <span class="st">'Italy'</span><span class="op">&amp;</span> <span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">1992</span>, <span class="va">pop</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>, <span class="va">pop</span><span class="op">)</span>, <span class="co"># Errors in pop</span></span>
<span>         gdpPercap <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">country</span> <span class="op">==</span> <span class="st">'Colombia'</span>, <span class="va">gdpPercap</span><span class="op">/</span><span class="fl">10</span>, <span class="va">gdpPercap</span><span class="op">)</span><span class="op">)</span> <span class="co"># Errors in gdpPercap</span></span></code></pre></div>
<p>If we run <code><a href="../reference/extract_diff_values.html">extract_diff_values()</a></code> with the
<code>output = "full"</code> and <code>interactive = TRYE</code>
arguments, we will get a full report of the comparison. Note that this
time, the two data sets are compared using the unique identifiers
<code>country</code> and <code>year</code>, which will be displayed next
to the <code>indexes</code> in the extracted rows:</p>
<p><img src="images%2Fextract_diff_values_gapminder.gif"> Alternatively,
if we run the function with <code>output = "simple"</code> we will get a
list of <code>data.table</code>s, one per variable that differs between
the two data frames:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_diff_values.html">extract_diff_values</a></span><span class="op">(</span><span class="va">gapminder</span>, <span class="va">gapminder_var1</span>, by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'country'</span>, <span class="st">'year'</span><span class="op">)</span>, output <span class="op">=</span> <span class="st">"simple"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">output</span>, max.level <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 3</span></span>
<span><span class="co">#&gt;  $ lifeExp  :Classes 'data.table' and 'data.frame':  142 obs. of  6 variables:</span></span>
<span><span class="co">#&gt;   ..$ diff     : chr [1:142] "value_to_na" "value_to_na" "value_to_na" "value_to_na" ...</span></span>
<span><span class="co">#&gt;   ..$ indexes  : chr [1:142] "12" "24" "36" "48" ...</span></span>
<span><span class="co">#&gt;   ..$ country  : chr [1:142] "Afghanistan" "Albania" "Algeria" "Angola" ...</span></span>
<span><span class="co">#&gt;   ..$ year     : int [1:142] 2007 2007 2007 2007 2007 2007 2007 2007 2007 2007 ...</span></span>
<span><span class="co">#&gt;   ..$ lifeExp.x: num [1:142] 43.8 76.4 72.3 42.7 75.3 ...</span></span>
<span><span class="co">#&gt;   ..$ lifeExp.y: num [1:142] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, ".internal.selfref")=&lt;externalptr&gt; </span></span>
<span><span class="co">#&gt;  $ pop      :Classes 'data.table' and 'data.frame':  4 obs. of  6 variables:</span></span>
<span><span class="co">#&gt;   ..$ diff   : chr [1:4] "change_in_value" "change_in_value" "change_in_value" "change_in_value"</span></span>
<span><span class="co">#&gt;   ..$ indexes: chr [1:4] "777" "778" "779" "780"</span></span>
<span><span class="co">#&gt;   ..$ country: chr [1:4] "Italy" "Italy" "Italy" "Italy"</span></span>
<span><span class="co">#&gt;   ..$ year   : int [1:4] 1992 1997 2002 2007</span></span>
<span><span class="co">#&gt;   ..$ pop.x  : int [1:4] 56840847 57479469 57926999 58147733</span></span>
<span><span class="co">#&gt;   ..$ pop.y  : num [1:4] 56840849 57479471 57927001 58147735</span></span>
<span><span class="co">#&gt;   ..- attr(*, ".internal.selfref")=&lt;externalptr&gt; </span></span>
<span><span class="co">#&gt;  $ gdpPercap:Classes 'data.table' and 'data.frame':  12 obs. of  6 variables:</span></span>
<span><span class="co">#&gt;   ..$ diff       : chr [1:12] "change_in_value" "change_in_value" "change_in_value" "change_in_value" ...</span></span>
<span><span class="co">#&gt;   ..$ indexes    : chr [1:12] "301" "302" "303" "304" ...</span></span>
<span><span class="co">#&gt;   ..$ country    : chr [1:12] "Colombia" "Colombia" "Colombia" "Colombia" ...</span></span>
<span><span class="co">#&gt;   ..$ year       : int [1:12] 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span></span>
<span><span class="co">#&gt;   ..$ gdpPercap.x: num [1:12] 2144 2324 2492 2679 3265 ...</span></span>
<span><span class="co">#&gt;   ..$ gdpPercap.y: num [1:12] 214 232 249 268 326 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, ".internal.selfref")=&lt;externalptr&gt;</span></span></code></pre></div>
<p>From printing the structure of the output, we can see that there are
differences in 3 variables: <code>lifeExp</code>, <code>pop</code>, and
<code>gdpPercap</code>. The user can explore the differences in more
detail by looking at each variable:</p>
<p><code>lifeExp</code> has differences in the values only for the year
2007, where all values are NAs:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">lifeExp</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">diff</span>, <span class="va">year</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   diff, year [1]</span></span></span>
<span><span class="co">#&gt;   diff         year     n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> value_to_na  <span style="text-decoration: underline;">2</span>007   142</span></span></code></pre></div>
<p><code>pop</code> has differences in the values for the country
<code>Italy</code> and years after 1992, and the difference is a fixed
value:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">pop</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">diff</span>, <span class="va">country</span>, <span class="va">year</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 4</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   diff, country, year [4]</span></span></span>
<span><span class="co">#&gt;   diff            country  year     n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> change_in_value Italy    <span style="text-decoration: underline;">1</span>992     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> change_in_value Italy    <span style="text-decoration: underline;">1</span>997     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> change_in_value Italy    <span style="text-decoration: underline;">2</span>002     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> change_in_value Italy    <span style="text-decoration: underline;">2</span>007     1</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">pop</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>pop_diff <span class="op">=</span> <span class="va">pop.x</span> <span class="op">-</span> <span class="va">pop.y</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">country</span>, <span class="va">year</span>, <span class="va">pop_diff</span><span class="op">)</span></span>
<span><span class="co">#&gt;    country  year  pop_diff</span></span>
<span><span class="co">#&gt;     &lt;char&gt; &lt;int&gt;     &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:   Italy  1992 -1.726751</span></span>
<span><span class="co">#&gt; 2:   Italy  1997 -1.726751</span></span>
<span><span class="co">#&gt; 3:   Italy  2002 -1.726751</span></span>
<span><span class="co">#&gt; 4:   Italy  2007 -1.726751</span></span></code></pre></div>
<p>Finally, <code>gdpPercap</code> has differences in magnitude (10) for
<code>Colombia</code>. Differences are for all available years, from
1952 to 2007:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">gdpPercap</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">diff</span>, <span class="va">country</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   diff, country [1]</span></span></span>
<span><span class="co">#&gt;   diff            country      n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> change_in_value Colombia    12</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">gdpPercap</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>gdpPercap_ratio <span class="op">=</span> <span class="va">gdpPercap.x</span><span class="op">/</span><span class="va">gdpPercap.y</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">country</span>, <span class="va">year</span>, <span class="va">gdpPercap_ratio</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;     country  year gdpPercap_ratio</span></span>
<span><span class="co">#&gt;      &lt;char&gt; &lt;int&gt;           &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1: Colombia  1952              10</span></span>
<span><span class="co">#&gt; 2: Colombia  1957              10</span></span>
<span><span class="co">#&gt; 3: Colombia  1962              10</span></span>
<span><span class="co">#&gt; 4: Colombia  1967              10</span></span>
<span><span class="co">#&gt; 5: Colombia  1972              10</span></span>
<span><span class="co">#&gt; 6: Colombia  1977              10</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="extracting-the-differences-in-a-table-format">Extracting the differences in a table format<a class="anchor" aria-label="anchor" href="#extracting-the-differences-in-a-table-format"></a>
</h2>
<p>The function <code><a href="../reference/extract_diff_table.html">extract_diff_table()</a></code> can be used to extract
the differences in a table format. This function is useful when the user
wants to see all differences in values between all variables. The output
is a <code>data.table</code> with all rows (observations) that have at
least one difference in a variable. If a row has differences in multiple
variables, it will be displayed multiple times, one per difference.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_diff_table.html">extract_diff_table</a></span><span class="op">(</span><span class="va">gapminder</span>, <span class="va">gapminder_var1</span>, by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'country'</span>, <span class="st">'year'</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">datatable</span><span class="op">(</span></span>
<span>  filter <span class="op">=</span> <span class="st">'top'</span>,</span>
<span>  rownames <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  style <span class="op">=</span> <span class="st">'auto'</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    searching <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    paging <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    scrollX <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    autoWidth <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    pageLength <span class="op">=</span> <span class="fl">5</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;lifeExp&quot;,&quot;pop&quot;,&quot;gdpPercap&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1952\" data-max=\"2007\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"277.5518587\" data-max=\"49357.19017\" data-scale=\"7\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"214.4115096\" data-max=\"49357.19017\" data-scale=\"13\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"39.613\" data-max=\"82.603\" data-scale=\"3\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"50.643\" data-max=\"80.24\" data-scale=\"3\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"199579\" data-max=\"1318683096\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"199579\" data-max=\"1318683096\" data-scale=\"8\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","value_to_na","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value","change_in_value"],["lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","lifeExp","pop","pop","pop","pop","gdpPercap","gdpPercap","gdpPercap","gdpPercap","gdpPercap","gdpPercap","gdpPercap","gdpPercap","gdpPercap","gdpPercap","gdpPercap","gdpPercap"],["12","24","36","48","60","72","84","96","108","120","132","144","156","168","180","192","204","216","228","240","252","264","276","288","300","312","324","336","348","360","372","384","396","408","420","432","444","456","468","480","492","504","516","528","540","552","564","576","588","600","612","624","636","648","660","672","684","696","708","720","732","744","756","768","780","792","804","816","828","840","852","864","876","888","900","912","924","936","948","960","972","984","996","1008","1020","1032","1044","1056","1068","1080","1092","1104","1116","1128","1140","1152","1164","1176","1188","1200","1212","1224","1236","1248","1260","1272","1284","1296","1308","1320","1332","1344","1356","1368","1380","1392","1404","1416","1428","1440","1452","1464","1476","1488","1500","1512","1524","1536","1548","1560","1572","1584","1596","1608","1620","1632","1644","1656","1668","1680","1692","1704","777","778","779","780","301","302","303","304","305","306","307","308","309","310","311","312"],["Afghanistan","Albania","Algeria","Angola","Argentina","Australia","Austria","Bahrain","Bangladesh","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo, Dem. Rep.","Congo, Rep.","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Czech Republic","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Ethiopia","Finland","France","Gabon","Gambia","Germany","Ghana","Greece","Guatemala","Guinea","Guinea-Bissau","Haiti","Honduras","Hong Kong, China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kenya","Korea, Dem. Rep.","Korea, Rep.","Kuwait","Lebanon","Lesotho","Liberia","Libya","Madagascar","Malawi","Malaysia","Mali","Mauritania","Mauritius","Mexico","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Reunion","Romania","Rwanda","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovak Republic","Slovenia","Somalia","South Africa","Spain","Sri Lanka","Sudan","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tanzania","Thailand","Togo","Trinidad and Tobago","Tunisia","Turkey","Uganda","United Kingdom","United States","Uruguay","Venezuela","Vietnam","West Bank and Gaza","Yemen, Rep.","Zambia","Zimbabwe","Italy","Italy","Italy","Italy","Colombia","Colombia","Colombia","Colombia","Colombia","Colombia","Colombia","Colombia","Colombia","Colombia","Colombia","Colombia"],[2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],["Asia","Europe","Africa","Africa","Americas","Oceania","Europe","Asia","Asia","Europe","Africa","Americas","Europe","Africa","Americas","Europe","Africa","Africa","Asia","Africa","Americas","Africa","Africa","Americas","Asia","Americas","Africa","Africa","Africa","Americas","Africa","Europe","Americas","Europe","Europe","Africa","Americas","Americas","Africa","Americas","Africa","Africa","Africa","Europe","Europe","Africa","Africa","Europe","Africa","Europe","Americas","Africa","Africa","Americas","Americas","Asia","Europe","Europe","Asia","Asia","Asia","Asia","Europe","Asia","Europe","Americas","Asia","Asia","Africa","Asia","Asia","Asia","Asia","Africa","Africa","Africa","Africa","Africa","Asia","Africa","Africa","Africa","Americas","Asia","Europe","Africa","Africa","Asia","Africa","Asia","Europe","Oceania","Americas","Africa","Africa","Europe","Asia","Asia","Americas","Americas","Americas","Asia","Europe","Europe","Americas","Africa","Europe","Africa","Africa","Asia","Africa","Europe","Africa","Asia","Europe","Europe","Africa","Africa","Europe","Asia","Africa","Africa","Europe","Europe","Asia","Asia","Africa","Asia","Africa","Americas","Africa","Europe","Africa","Europe","Americas","Americas","Americas","Asia","Asia","Asia","Africa","Africa","Europe","Europe","Europe","Europe","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas"],["Asia","Europe","Africa","Africa","Americas","Oceania","Europe","Asia","Asia","Europe","Africa","Americas","Europe","Africa","Americas","Europe","Africa","Africa","Asia","Africa","Americas","Africa","Africa","Americas","Asia","Americas","Africa","Africa","Africa","Americas","Africa","Europe","Americas","Europe","Europe","Africa","Americas","Americas","Africa","Americas","Africa","Africa","Africa","Europe","Europe","Africa","Africa","Europe","Africa","Europe","Americas","Africa","Africa","Americas","Americas","Asia","Europe","Europe","Asia","Asia","Asia","Asia","Europe","Asia","Europe","Americas","Asia","Asia","Africa","Asia","Asia","Asia","Asia","Africa","Africa","Africa","Africa","Africa","Asia","Africa","Africa","Africa","Americas","Asia","Europe","Africa","Africa","Asia","Africa","Asia","Europe","Oceania","Americas","Africa","Africa","Europe","Asia","Asia","Americas","Americas","Americas","Asia","Europe","Europe","Americas","Africa","Europe","Africa","Africa","Asia","Africa","Europe","Africa","Asia","Europe","Europe","Africa","Africa","Europe","Asia","Africa","Africa","Europe","Europe","Asia","Asia","Africa","Asia","Africa","Americas","Africa","Europe","Africa","Europe","Americas","Americas","Americas","Asia","Asia","Asia","Africa","Africa","Europe","Europe","Europe","Europe","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas"],[974.5803384,5937.029526,6223.367465,4797.231267,12779.37964,34435.36744,36126.4927,29796.04834,1391.253792,33692.60508,1441.284873,3822.137084,7446.298803,12569.85177,9065.800825,10680.79282,1217.032994,430.0706916,1713.778686,2042.09524,36319.23501,706.016537,1704.063724,13171.63885,4959.114854,7006.580419,986.1478792,277.5518587,3632.557798,9645.06142,1544.750112,14619.22272,8948.102923,22833.30851,35278.41874,2082.481567,6025.374752,6873.262326,5581.180998,5728.353514,12154.08975,641.3695236,690.8055759,33207.0844,30470.0167,13206.48452,752.7497265,32170.37442,1327.60891,27538.41188,5186.050003,942.6542111,579.2317430000001,1201.637154,3548.330846,39724.97867,18008.94444,36180.78919,2452.210407,3540.651564,11605.71449,4471.061906,40675.99635,25523.2771,28569.7197,7320.880262,31656.06806,4519.461171,1463.249282,1593.06548,23348.13973,47306.98978,10461.05868,1569.331442,414.5073415,12057.49928,1044.770126,759.3499101,12451.6558,1042.581557,1803.151496,10956.99112,11977.57496,3095.772271,9253.896111,3820.17523,823.6856205,944,4811.060429,1091.359778,36797.93332,25185.00911,2749.320965,619.6768924,2013.977305,49357.19017,22316.19287,2605.94758,9809.185636,4172.838464,7408.905561,3190.481016,15389.92468,20509.64777,19328.70901,7670.122558,10808.47561,863.0884639,1598.435089,21654.83194,1712.472136,9786.534713999999,862.5407561,47143.17964,18678.31435,25768.25759,926.1410683,9269.657808,28821.0637,3970.095407,2602.394995,4513.480643,33859.74835,37506.41907,4184.548089,28718.27684,1107.482182,7458.396327,882.9699438,18008.50924,7092.923025,8458.276384000001,1056.380121,33203.26128,42951.65309,10611.46299,11415.80569,2441.576404,3025.349798,2280.769906,1271.211593,469.7092981,22013.64486,24675.02446,27968.09817,28569.7197,2144.115096,2323.805581,2492.351109,2678.729839,3264.660041,3815.80787,4397.575659,4903.2191,5444.648617,6117.361746,5755.259962,7006.580419],[974.5803384,5937.029526,6223.367465,4797.231267,12779.37964,34435.36744,36126.4927,29796.04834,1391.253792,33692.60508,1441.284873,3822.137084,7446.298803,12569.85177,9065.800825,10680.79282,1217.032994,430.0706916,1713.778686,2042.09524,36319.23501,706.016537,1704.063724,13171.63885,4959.114854,700.6580418999999,986.1478792,277.5518587,3632.557798,9645.06142,1544.750112,14619.22272,8948.102923,22833.30851,35278.41874,2082.481567,6025.374752,6873.262326,5581.180998,5728.353514,12154.08975,641.3695236,690.8055759,33207.0844,30470.0167,13206.48452,752.7497265,32170.37442,1327.60891,27538.41188,5186.050003,942.6542111,579.2317430000001,1201.637154,3548.330846,39724.97867,18008.94444,36180.78919,2452.210407,3540.651564,11605.71449,4471.061906,40675.99635,25523.2771,28569.7197,7320.880262,31656.06806,4519.461171,1463.249282,1593.06548,23348.13973,47306.98978,10461.05868,1569.331442,414.5073415,12057.49928,1044.770126,759.3499101,12451.6558,1042.581557,1803.151496,10956.99112,11977.57496,3095.772271,9253.896111,3820.17523,823.6856205,944,4811.060429,1091.359778,36797.93332,25185.00911,2749.320965,619.6768924,2013.977305,49357.19017,22316.19287,2605.94758,9809.185636,4172.838464,7408.905561,3190.481016,15389.92468,20509.64777,19328.70901,7670.122558,10808.47561,863.0884639,1598.435089,21654.83194,1712.472136,9786.534713999999,862.5407561,47143.17964,18678.31435,25768.25759,926.1410683,9269.657808,28821.0637,3970.095407,2602.394995,4513.480643,33859.74835,37506.41907,4184.548089,28718.27684,1107.482182,7458.396327,882.9699438,18008.50924,7092.923025,8458.276384000001,1056.380121,33203.26128,42951.65309,10611.46299,11415.80569,2441.576404,3025.349798,2280.769906,1271.211593,469.7092981,22013.64486,24675.02446,27968.09817,28569.7197,214.4115096,232.3805581,249.2351109,267.8729839,326.4660041,381.580787,439.7575659,490.32191,544.4648617,611.7361745999999,575.5259962,700.6580418999999],[43.828,76.423,72.301,42.731,75.31999999999999,81.235,79.82899999999999,75.63500000000001,64.062,79.441,56.728,65.554,74.852,50.728,72.39,73.005,52.295,49.58,59.723,50.43,80.65300000000001,44.741,50.651,78.553,72.961,72.889,65.152,46.462,55.322,78.782,48.328,75.748,78.273,76.486,78.33199999999999,54.791,72.235,74.994,71.33799999999999,71.878,51.579,58.04,52.947,79.313,80.657,56.735,59.448,79.40600000000001,60.022,79.483,70.259,56.007,46.388,60.916,70.19799999999999,82.208,73.33799999999999,81.75700000000001,64.69799999999999,70.65000000000001,70.964,59.545,78.88500000000001,80.745,80.54600000000001,72.56699999999999,82.60299999999999,72.535,54.11,67.297,78.623,77.58799999999999,71.99299999999999,42.592,45.678,73.952,59.443,48.303,74.241,54.467,64.164,72.801,76.19499999999999,66.803,74.54300000000001,71.164,42.082,62.069,52.906,63.785,79.762,80.20399999999999,72.899,56.867,46.859,80.196,75.64,65.483,75.53700000000001,71.752,71.42100000000001,71.688,75.563,78.098,78.746,76.44199999999999,72.476,46.242,65.52800000000001,72.777,63.062,74.002,42.568,79.97199999999999,74.663,77.926,48.159,49.339,80.941,72.396,58.556,39.613,80.884,81.70099999999999,74.143,78.40000000000001,52.517,70.616,58.42,69.819,73.923,71.777,51.542,79.425,78.242,76.384,73.747,74.249,73.422,62.698,42.384,43.487,77.44,78.81999999999999,80.23999999999999,80.54600000000001,50.643,55.118,57.863,59.963,61.623,63.837,66.65300000000001,67.768,68.42100000000001,70.313,71.682,72.889],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,77.44,78.81999999999999,80.23999999999999,null,50.643,55.118,57.863,59.963,61.623,63.837,66.65300000000001,67.768,68.42100000000001,70.313,71.682,null],[31889923,3600523,33333216,12420476,40301927,20434176,8199783,708573,150448339,10392226,8078314,9119152,4552198,1639131,190010647,7322858,14326203,8390505,14131858,17696293,33390141,4369038,10238807,16284741,1318683096,44227550,710960,64606759,3800610,4133884,18013409,4493312,11416987,10228744,5468120,496374,9319622,13755680,80264543,6939688,551201,4906585,76511887,5238460,61083916,1454867,1688359,82400996,22873338,10706290,12572928,9947814,1472041,8502814,7483763,6980412,9956108,301931,1110396331,223547000,69453570,27499638,4109086,6426679,58147733,2780132,127467972,6053193,35610177,23301725,49044790,2505559,3921278,2012649,3193942,6036914,19167654,13327079,24821286,12031795,3270065,1250882,108700891,2874127,684736,33757175,19951656,47761980,2055080,28901790,16570613,4115771,5675356,12894865,135031164,4627926,3204897,169270617,3242173,6667147,28674757,91077287,38518241,10642836,3942491,798094,22276056,8860588,199579,27601038,12267493,10150265,6144562,4553009,5447502,2009245,9118773,43997828,40448191,20378239,42292929,1133066,9031088,7554661,19314747,23174294,38139640,65068149,5701579,1056608,10276158,71158647,29170398,60776238,301139947,3447496,26084662,85262356,4018332,22211743,11746035,12311143,56840847,57479469,57926999,58147733,12350771,14485993,17009885,19764027,22542890,25094412,27764644,30964245,34202721,37657830,41008227,44227550],[31889923,3600523,33333216,12420476,40301927,20434176,8199783,708573,150448339,10392226,8078314,9119152,4552198,1639131,190010647,7322858,14326203,8390505,14131858,17696293,33390141,4369038,10238807,16284741,1318683096,44227550,710960,64606759,3800610,4133884,18013409,4493312,11416987,10228744,5468120,496374,9319622,13755680,80264543,6939688,551201,4906585,76511887,5238460,61083916,1454867,1688359,82400996,22873338,10706290,12572928,9947814,1472041,8502814,7483763,6980412,9956108,301931,1110396331,223547000,69453570,27499638,4109086,6426679,58147734.72675124,2780132,127467972,6053193,35610177,23301725,49044790,2505559,3921278,2012649,3193942,6036914,19167654,13327079,24821286,12031795,3270065,1250882,108700891,2874127,684736,33757175,19951656,47761980,2055080,28901790,16570613,4115771,5675356,12894865,135031164,4627926,3204897,169270617,3242173,6667147,28674757,91077287,38518241,10642836,3942491,798094,22276056,8860588,199579,27601038,12267493,10150265,6144562,4553009,5447502,2009245,9118773,43997828,40448191,20378239,42292929,1133066,9031088,7554661,19314747,23174294,38139640,65068149,5701579,1056608,10276158,71158647,29170398,60776238,301139947,3447496,26084662,85262356,4018332,22211743,11746035,12311143,56840848.72675124,57479470.72675124,57927000.72675124,58147734.72675124,12350771,14485993,17009885,19764027,22542890,25094412,27764644,30964245,34202721,37657830,41008227,44227550]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>diff<\/th>\n      <th>variable<\/th>\n      <th>indexes<\/th>\n      <th>country<\/th>\n      <th>year<\/th>\n      <th>continent.x<\/th>\n      <th>continent.y<\/th>\n      <th>gdpPercap.x<\/th>\n      <th>gdpPercap.y<\/th>\n      <th>lifeExp.x<\/th>\n      <th>lifeExp.y<\/th>\n      <th>pop.x<\/th>\n      <th>pop.y<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"paging":true,"scrollX":true,"autoWidth":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[4,7,8,9,10,11,12]},{"name":"diff","targets":0},{"name":"variable","targets":1},{"name":"indexes","targets":2},{"name":"country","targets":3},{"name":"year","targets":4},{"name":"continent.x","targets":5},{"name":"continent.y","targets":6},{"name":"gdpPercap.x","targets":7},{"name":"gdpPercap.y","targets":8},{"name":"lifeExp.x","targets":9},{"name":"lifeExp.y","targets":10},{"name":"pop.x","targets":11},{"name":"pop.y","targets":12}],"order":[],"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p>The user can then filter the table to focus on specific differences,
aggregate and summarize the table to understand general patterns, or use
the indexes to extract the rows from the original data frame.</p>
<p>For example:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_diff_table.html">extract_diff_table</a></span><span class="op">(</span><span class="va">gapminder</span>, <span class="va">gapminder_var1</span>, by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'country'</span>, <span class="st">'year'</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">diff</span>, <span class="va">country</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 144 × 3</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   diff, country [144]</span></span></span>
<span><span class="co">#&gt;    diff            country         n</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> change_in_value Colombia       12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> change_in_value Italy           4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> value_to_na     Afghanistan     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> value_to_na     Albania         1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> value_to_na     Algeria         1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> value_to_na     Angola          1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> value_to_na     Argentina       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> value_to_na     Australia       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> value_to_na     Austria         1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> value_to_na     Bahrain         1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 134 more rows</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>As a recap:</p>
<ul>
<li><p><code><a href="../reference/extract_diff_values.html">extract_diff_values()</a></code>
/<code><a href="../reference/extract_diff_table.html">extract_diff_table()</a></code>is a function that allows the user to
extract the differences in values between two data frames in
list/data.table format.</p></li>
<li><p>It can be run with <code>output = "full"</code> to get a full
report of the differences. Interactivity can be switched off by setting
<code>interactive = FALSE</code>.</p></li>
<li><p>It can be run with <code>output = "simple"</code> to get a list
of <code>data.table</code>s, one per variable that differs between the
two data frames.</p></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Giorgia Cecchinato.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
